{"changed":true,"filter":false,"title":"RecodingTest2.php","tooltip":"/laravel/resources/views/marionett/RecodingTest2.php","ace":{"folds":[],"scrolltop":539.772705078125,"scrollleft":0,"selection":{"start":{"row":65,"column":36},"end":{"row":65,"column":40},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":34,"state":"js-start","mode":"ace/mode/php"}},"value":"<!DOCTYPE html>\n\n<html>\n<head>\n\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n\t<title>Live input record and playback</title>\n  <style type='text/css'>\n    ul { list-style: none; }\n    #recordingslist audio { display: block; margin-bottom: 10px; }\n  </style>\n</head>\n<body>\n\n  <button onclick=\"startRecording(this);\">record</button>\n  <button onclick=\"stopRecording(this);\" disabled>stop</button>\n  \n  <h2>Recordings</h2>\n  <ul id=\"recordingslist\"></ul>\n  \n  <h2>Log</h2>\n  <pre id=\"log\"></pre>\n\n  <script>\n  function __log(e, data) {\n    log.innerHTML += \"\\n\" + e + \" \" + (data || '');\n  }\n\n  var audio_context;\n  var recorder;\n\n  function startUserMedia(stream) {\n    var input = audio_context.createMediaStreamSource(stream);\n    __log('Media stream created.');\n\n    // Uncomment if you want the audio to feedback directly\n    //input.connect(audio_context.destination);\n    //__log('Input connected to audio context destination.');\n    \n    recorder = new Recorder(input);\n    __log('Recorder initialised.');\n  }\n\n  function startRecording(button) {\n    recorder && recorder.record();\n    button.disabled = true;\n    button.nextElementSibling.disabled = false;\n    __log('Recording...');\n  }\n\n  function stopRecording(button) {\n    recorder && recorder.stop();\n  console.log(recorder);\n  \n    button.disabled = true;\n    button.previousElementSibling.disabled = false;\n    __log('Stopped recording.');\n    \n    // create WAV download link using audio data blob\n    createDownloadLink();\n    \n    recorder.clear();\n  }\n\n  function createDownloadLink() {\n    recorder && recorder.exportWAV(function(blob) {\n      var url = URL.createObjectURL(blob);\n      var li = document.createElement('li');\n      var au = document.createElement('audio');\n      var hf = document.createElement('a');\n      \n      au.controls = true;\n      au.src = url;\n      hf.href = url;\n      hf.download = new Date().toISOString() + '.wav';\n      hf.innerHTML = hf.download;\n      li.appendChild(au);\n      li.appendChild(hf);\n      recordingslist.appendChild(li);\n    });\n  }\n\n  window.onload = function init() {\n    try {\n      // webkit shim\n      window.AudioContext = window.AudioContext || window.webkitAudioContext;\n      navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia;\n      window.URL = window.URL || window.webkitURL;\n      \n      audio_context = new AudioContext;\n      __log('Audio context set up.');\n      __log('navigator.getUserMedia ' + (navigator.getUserMedia ? 'available.' : 'not present!'));\n    } catch (e) {\n      alert('No web audio support in this browser!');\n    }\n    \n    navigator.getUserMedia({audio: true}, startUserMedia, function(e) {\n      __log('No live audio input: ' + e);\n    });\n  };\n  </script>\n\n  <script src=\"js/recorder.js\"></script>\n</body>\n</html>\n","undoManager":{"mark":68,"position":68,"stack":[[{"start":{"row":0,"column":0},"end":{"row":15,"column":2},"action":"insert","lines":["<input type=\"file\" accept=\"audio/*;capture=microphone\"> ","","","getUserMedia()는 Chrome 21, Opera 18, Firefox 17 이후 버전에서 지원됩니다. ","","(브라우저 지원 체크) ","function hasGetUserMedia() { ","  return !!(navigator.getUserMedia || navigator.webkitGetUserMedia || ","            navigator.mozGetUserMedia || navigator.msGetUserMedia); ","} ","","if (hasGetUserMedia()) { ","  // Good to go! ","} else { ","  alert('getUserMedia() is not supported in your browser'); ","} "],"id":1}],[{"start":{"row":10,"column":0},"end":{"row":11,"column":0},"action":"insert","lines":["",""],"id":2}],[{"start":{"row":3,"column":0},"end":{"row":16,"column":2},"action":"remove","lines":["getUserMedia()는 Chrome 21, Opera 18, Firefox 17 이후 버전에서 지원됩니다. ","","(브라우저 지원 체크) ","function hasGetUserMedia() { ","  return !!(navigator.getUserMedia || navigator.webkitGetUserMedia || ","            navigator.mozGetUserMedia || navigator.msGetUserMedia); ","} ","","","if (hasGetUserMedia()) { ","  // Good to go! ","} else { ","  alert('getUserMedia() is not supported in your browser'); ","} "],"id":3}],[{"start":{"row":0,"column":0},"end":{"row":3,"column":0},"action":"remove","lines":["<input type=\"file\" accept=\"audio/*;capture=microphone\"> ","","",""],"id":28},{"start":{"row":0,"column":0},"end":{"row":107,"column":0},"action":"insert","lines":["<!DOCTYPE html>","","<html>","<head>","\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">","\t<title>Live input record and playback</title>","  <style type='text/css'>","    ul { list-style: none; }","    #recordingslist audio { display: block; margin-bottom: 10px; }","  </style>","</head>","<body>","","  <h1>Recorder.js simple WAV export example</h1>","","  <p>Make sure you are using a recent version of Google Chrome.</p>","  <p>Also before you enable microphone input either plug in headphones or turn the volume down if you want to avoid ear splitting feedback!</p>","","  <button onclick=\"startRecording(this);\">record</button>","  <button onclick=\"stopRecording(this);\" disabled>stop</button>","  ","  <h2>Recordings</h2>","  <ul id=\"recordingslist\"></ul>","  ","  <h2>Log</h2>","  <pre id=\"log\"></pre>","","  <script>","  function __log(e, data) {","    log.innerHTML += \"\\n\" + e + \" \" + (data || '');","  }","","  var audio_context;","  var recorder;","","  function startUserMedia(stream) {","    var input = audio_context.createMediaStreamSource(stream);","    __log('Media stream created.');","","    // Uncomment if you want the audio to feedback directly","    //input.connect(audio_context.destination);","    //__log('Input connected to audio context destination.');","    ","    recorder = new Recorder(input);","    __log('Recorder initialised.');","  }","","  function startRecording(button) {","    recorder && recorder.record();","    button.disabled = true;","    button.nextElementSibling.disabled = false;","    __log('Recording...');","  }","","  function stopRecording(button) {","    recorder && recorder.stop();","    button.disabled = true;","    button.previousElementSibling.disabled = false;","    __log('Stopped recording.');","    ","    // create WAV download link using audio data blob","    createDownloadLink();","    ","    recorder.clear();","  }","","  function createDownloadLink() {","    recorder && recorder.exportWAV(function(blob) {","      var url = URL.createObjectURL(blob);","      var li = document.createElement('li');","      var au = document.createElement('audio');","      var hf = document.createElement('a');","      ","      au.controls = true;","      au.src = url;","      hf.href = url;","      hf.download = new Date().toISOString() + '.wav';","      hf.innerHTML = hf.download;","      li.appendChild(au);","      li.appendChild(hf);","      recordingslist.appendChild(li);","    });","  }","","  window.onload = function init() {","    try {","      // webkit shim","      window.AudioContext = window.AudioContext || window.webkitAudioContext;","      navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia;","      window.URL = window.URL || window.webkitURL;","      ","      audio_context = new AudioContext;","      __log('Audio context set up.');","      __log('navigator.getUserMedia ' + (navigator.getUserMedia ? 'available.' : 'not present!'));","    } catch (e) {","      alert('No web audio support in this browser!');","    }","    ","    navigator.getUserMedia({audio: true}, startUserMedia, function(e) {","      __log('No live audio input: ' + e);","    });","  };","  </script>","","  <script src=\"../dist/recorder.js\"></script>","</body>","</html>",""]}],[{"start":{"row":104,"column":15},"end":{"row":104,"column":22},"action":"remove","lines":["../dist"],"id":29},{"start":{"row":104,"column":15},"end":{"row":104,"column":16},"action":"insert","lines":["j"]}],[{"start":{"row":104,"column":16},"end":{"row":104,"column":17},"action":"insert","lines":["s"],"id":30}],[{"start":{"row":12,"column":0},"end":{"row":17,"column":0},"action":"remove","lines":["","  <h1>Recorder.js simple WAV export example</h1>","","  <p>Make sure you are using a recent version of Google Chrome.</p>","  <p>Also before you enable microphone input either plug in headphones or turn the volume down if you want to avoid ear splitting feedback!</p>",""],"id":31}],[{"start":{"row":50,"column":32},"end":{"row":51,"column":0},"action":"insert","lines":["",""],"id":32},{"start":{"row":51,"column":0},"end":{"row":51,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":51,"column":4},"end":{"row":52,"column":0},"action":"insert","lines":["",""],"id":33},{"start":{"row":52,"column":0},"end":{"row":52,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":52,"column":4},"end":{"row":52,"column":5},"action":"insert","lines":["c"],"id":34}],[{"start":{"row":52,"column":5},"end":{"row":52,"column":6},"action":"insert","lines":["o"],"id":35}],[{"start":{"row":52,"column":6},"end":{"row":52,"column":7},"action":"insert","lines":["n"],"id":36}],[{"start":{"row":52,"column":7},"end":{"row":52,"column":8},"action":"insert","lines":["s"],"id":37}],[{"start":{"row":52,"column":8},"end":{"row":52,"column":9},"action":"insert","lines":["l"],"id":38}],[{"start":{"row":52,"column":9},"end":{"row":52,"column":10},"action":"insert","lines":["o"],"id":39}],[{"start":{"row":52,"column":9},"end":{"row":52,"column":10},"action":"remove","lines":["o"],"id":40}],[{"start":{"row":52,"column":8},"end":{"row":52,"column":9},"action":"remove","lines":["l"],"id":41}],[{"start":{"row":52,"column":8},"end":{"row":52,"column":9},"action":"insert","lines":["o"],"id":42}],[{"start":{"row":52,"column":9},"end":{"row":52,"column":10},"action":"insert","lines":["l"],"id":43}],[{"start":{"row":52,"column":10},"end":{"row":52,"column":11},"action":"insert","lines":["e"],"id":44}],[{"start":{"row":52,"column":11},"end":{"row":52,"column":12},"action":"insert","lines":["."],"id":45}],[{"start":{"row":52,"column":12},"end":{"row":52,"column":13},"action":"insert","lines":["l"],"id":46}],[{"start":{"row":52,"column":13},"end":{"row":52,"column":14},"action":"insert","lines":["o"],"id":47}],[{"start":{"row":52,"column":14},"end":{"row":52,"column":15},"action":"insert","lines":["g"],"id":48}],[{"start":{"row":52,"column":12},"end":{"row":52,"column":15},"action":"remove","lines":["log"],"id":49},{"start":{"row":52,"column":12},"end":{"row":52,"column":17},"action":"insert","lines":["log()"]}],[{"start":{"row":52,"column":16},"end":{"row":52,"column":17},"action":"insert","lines":["r"],"id":50}],[{"start":{"row":52,"column":17},"end":{"row":52,"column":18},"action":"insert","lines":["e"],"id":51}],[{"start":{"row":52,"column":18},"end":{"row":52,"column":19},"action":"insert","lines":["c"],"id":52}],[{"start":{"row":52,"column":19},"end":{"row":52,"column":20},"action":"insert","lines":["o"],"id":53}],[{"start":{"row":52,"column":20},"end":{"row":52,"column":21},"action":"insert","lines":["r"],"id":54}],[{"start":{"row":52,"column":16},"end":{"row":52,"column":21},"action":"remove","lines":["recor"],"id":55},{"start":{"row":52,"column":16},"end":{"row":52,"column":24},"action":"insert","lines":["recorder"]}],[{"start":{"row":52,"column":25},"end":{"row":52,"column":26},"action":"insert","lines":[";"],"id":56}],[{"start":{"row":52,"column":26},"end":{"row":53,"column":0},"action":"insert","lines":["",""],"id":57},{"start":{"row":53,"column":0},"end":{"row":53,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":53,"column":4},"end":{"row":53,"column":26},"action":"insert","lines":["console.log(recorder);"],"id":58}],[{"start":{"row":53,"column":24},"end":{"row":53,"column":25},"action":"insert","lines":["."],"id":59}],[{"start":{"row":53,"column":25},"end":{"row":53,"column":26},"action":"insert","lines":["s"],"id":60}],[{"start":{"row":53,"column":26},"end":{"row":53,"column":27},"action":"insert","lines":["t"],"id":61}],[{"start":{"row":53,"column":27},"end":{"row":53,"column":28},"action":"insert","lines":["o"],"id":62}],[{"start":{"row":53,"column":25},"end":{"row":53,"column":28},"action":"remove","lines":["sto"],"id":63},{"start":{"row":53,"column":25},"end":{"row":53,"column":31},"action":"insert","lines":["stop()"]}],[{"start":{"row":53,"column":33},"end":{"row":54,"column":0},"action":"insert","lines":["",""],"id":64},{"start":{"row":54,"column":0},"end":{"row":54,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":52,"column":4},"end":{"row":52,"column":7},"action":"insert","lines":["// "],"id":65},{"start":{"row":53,"column":4},"end":{"row":53,"column":7},"action":"insert","lines":["// "]}],[{"start":{"row":52,"column":0},"end":{"row":54,"column":4},"action":"remove","lines":["    // console.log(recorder);","    // console.log(recorder.stop());","    "],"id":66}],[{"start":{"row":52,"column":0},"end":{"row":53,"column":0},"action":"remove","lines":["",""],"id":67}],[{"start":{"row":51,"column":3},"end":{"row":51,"column":4},"action":"remove","lines":[" "],"id":68}],[{"start":{"row":51,"column":2},"end":{"row":51,"column":3},"action":"remove","lines":[" "],"id":69}],[{"start":{"row":51,"column":2},"end":{"row":51,"column":3},"action":"insert","lines":["r"],"id":70}],[{"start":{"row":51,"column":2},"end":{"row":51,"column":3},"action":"remove","lines":["r"],"id":71}],[{"start":{"row":51,"column":2},"end":{"row":51,"column":3},"action":"insert","lines":["c"],"id":72},{"start":{"row":51,"column":3},"end":{"row":51,"column":4},"action":"insert","lines":["o"]}],[{"start":{"row":51,"column":4},"end":{"row":51,"column":5},"action":"insert","lines":["n"],"id":73}],[{"start":{"row":51,"column":5},"end":{"row":51,"column":6},"action":"insert","lines":["s"],"id":74}],[{"start":{"row":51,"column":6},"end":{"row":51,"column":7},"action":"insert","lines":["o"],"id":75}],[{"start":{"row":51,"column":7},"end":{"row":51,"column":8},"action":"insert","lines":["l"],"id":76}],[{"start":{"row":51,"column":8},"end":{"row":51,"column":9},"action":"insert","lines":["e"],"id":77}],[{"start":{"row":51,"column":9},"end":{"row":51,"column":10},"action":"insert","lines":["."],"id":78}],[{"start":{"row":51,"column":10},"end":{"row":51,"column":11},"action":"insert","lines":["l"],"id":79}],[{"start":{"row":51,"column":11},"end":{"row":51,"column":12},"action":"insert","lines":["o"],"id":80}],[{"start":{"row":51,"column":12},"end":{"row":51,"column":13},"action":"insert","lines":["g"],"id":81}],[{"start":{"row":51,"column":13},"end":{"row":51,"column":15},"action":"insert","lines":["()"],"id":82}],[{"start":{"row":51,"column":14},"end":{"row":51,"column":15},"action":"insert","lines":["r"],"id":83}],[{"start":{"row":51,"column":15},"end":{"row":51,"column":16},"action":"insert","lines":["r"],"id":84}],[{"start":{"row":51,"column":16},"end":{"row":51,"column":17},"action":"insert","lines":["e"],"id":85}],[{"start":{"row":51,"column":16},"end":{"row":51,"column":17},"action":"remove","lines":["e"],"id":86}],[{"start":{"row":51,"column":15},"end":{"row":51,"column":16},"action":"remove","lines":["r"],"id":87}],[{"start":{"row":51,"column":15},"end":{"row":51,"column":16},"action":"insert","lines":["e"],"id":88}],[{"start":{"row":51,"column":16},"end":{"row":51,"column":17},"action":"insert","lines":["c"],"id":89}],[{"start":{"row":51,"column":17},"end":{"row":51,"column":18},"action":"insert","lines":["o"],"id":90}],[{"start":{"row":51,"column":14},"end":{"row":51,"column":18},"action":"remove","lines":["reco"],"id":91},{"start":{"row":51,"column":14},"end":{"row":51,"column":22},"action":"insert","lines":["recorder"]}],[{"start":{"row":51,"column":23},"end":{"row":51,"column":24},"action":"insert","lines":[";"],"id":92}],[{"start":{"row":51,"column":24},"end":{"row":52,"column":0},"action":"insert","lines":["",""],"id":93},{"start":{"row":52,"column":0},"end":{"row":52,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":28,"column":15},"end":{"row":28,"column":29},"action":"insert","lines":["startUserMedia"],"id":94}]]},"timestamp":1490767437214}